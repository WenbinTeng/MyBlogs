---
title: fpga-dfx-greybox
date: 2024-05-28 14:22:57
tags:
typora-root-url: fpga-dfx-greybox
---

# FPGA DFX Greybox

对于某些设计，期望的设备初始配置可能是一个在可重构分区中没有任何功能的映像，或者可能还没有可重构模块可用来实现。可以使用静态设计驻留来创建灰盒配置。

灰盒是一种以黑盒开始的模块，但在实现过程中会自动为所有端口插入 LUT。输出端口在默认情况下被驱动到逻辑 0 （在属性中可以改为 1），所以端口的值不是浮动的，可以在没有有效可重构模块的情况下处理设计。尽管带有灰盒的配置可以作为父运行，但仅在不存在其他可重构模块或使用预算约束来优化可重构分区接口布局时才建议这样做。因此，这个功能在 Vivado IDE 中是不允许的。建议将灰盒配置作为子配置，将最困难的设计作为父配置，或者使用每个可重构分区中的代表性功能来产生最高质量的静态设计。

首先，DFX 向导并移动到配置页面。在这种情况下，不需要定义新的可重构模块，因为这是一个专用特性。创建一个名为“config_greybox”的新配置，并为每个可重构分区实例输入“<greybox>”。

![](1.png)

然后，单击“Next”进入“Configuration Runs”页面，然后创建另一个新的配置运行，这次是灰盒配置。

- Run: child_gb_impl_1
- Parent: impl_1 – 从现有的一个父运行开始，配置运行一个新的子运行。
- Configuration: config_greybox – 可重构模块仅由 LUT 连接组成。

单击“OK”以创建这个新的配置运行。

![](2.png)

单击“Next”，然后单击“Finish”来创建这个新运行。现在在“Design runs”窗口中显示了四个实现运行和三个上下文无关运行。灰盒模块不需要综合，它是 Vivado DFX 中的嵌入功能。

![](3.png)

选择“impl_greybox”设计运行，右键单击，并选择“Launch Runs”来实现此子配置。